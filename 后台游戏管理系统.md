#斗图系统后台管理系统(BeatingPictureManageSystem)

##实现技术
````
前端界面展示：layui + jquery
后端开发技术：基于springboot、mybatis、shiro（安全框架，用于认证授权）
数据库：关系型数据库mysql 内存数据库redis
语言环境：jdk1.8
开发工具：IDEA 2018.x 可视化数据库(navicat)
测试工具：postman
````

##数据库采用中间表

#主要模块：
* 用户管理（管理系统用户无法注册，只能有超级管理员添加用户）V1.0版本 非Shiro实现
    * 认证授权
    * 角色管理
    * 权限管理
    * 动态菜单（V2.0 Shiro）
    * 权限拦截（V2.0 Shiro）
* BOOS管理
* 竞技场管理
* 任务管理
* 玩家管理（玩家账号与后台系统用户账号存储有两张不同的表）
    * 玩家上传卡片管理
      * 审核
      * 冻结
    * 账号冻结/解冻
    * 等级管理
    * 称号管理 -- 积分
* 抽奖管理
* 签到管理
* 广播管理
    * 前台游戏界面公告发布
    * 后台管理系统发布消息
* 商城管理
* 卡片管理

## 用户管理
### 数据库表：
####manager 管理者表（用户表）
````
+----------+--------------+------+-----+---------+----------------+
| Field    | Type         | Null | Key | Default | Extra          |
+----------+--------------+------+-----+---------+----------------+
| id       | int(11)      | NO   | PRI | NULL    | auto_increment |
| username | varchar(255) | NO   |     | NULL    |                |
| password | varchar(255) | NO   |     | NULL    |                |
+----------+--------------+------+-----+---------+----------------+
````
id:用户唯一标识
username:用户名
password：密码

####role 角色表
````
+-------+--------------+------+-----+---------+----------------+
| Field | Type         | Null | Key | Default | Extra          |
+-------+--------------+------+-----+---------+----------------+
| id    | int(11)      | NO   | PRI | NULL    | auto_increment |
| name  | varchar(255) | YES  |     | NULL    |                |
+-------+--------------+------+-----+---------+----------------+
````
id:角色唯一标识
name:角色名称

#### menu 权限表(菜单表)
##### 注：因为权限和动态菜单有关，所以直接就将权限表设置为菜单表
````
+-------+--------------+------+-----+---------+----------------+
| Field | Type         | Null | Key | Default | Extra          |
+-------+--------------+------+-----+---------+----------------+
| id    | int(11)      | NO   | PRI | NULL    | auto_increment |
| name  | varchar(255) | YES  |     | NULL    |                |
| pid   | int(11)      | YES  |     | NULL    |                |
| code  | varchar(255) | YES  |     | NULL    |                |
+-------+--------------+------+-----+---------+----------------+
````
id:权限唯一标识
name:权限名称
pid:用于处理多级权限（动态分级菜单），第一级权限pid为0，第二级权限pid为对应一级权限的id
code:url路径值，用于后面做权限拦截。

####中间表： manager_role 用户-角色表  
````
+------------+---------+------+-----+---------+----------------+
| Field      | Type    | Null | Key | Default | Extra          |
+------------+---------+------+-----+---------+----------------+
| id         | int(11) | NO   | PRI | NULL    | auto_increment |
| manager_id | int(11) | YES  |     | NULL    |                |
| role_id    | int(11) | YES  |     | NULL    |                |
+------------+---------+------+-----+---------+----------------+
````
id:唯一标识
manager_id：关联用户表
role_id：关联角色表


####中间表： role_menu 角色表-权限表
````
+-----------+---------+------+-----+---------+----------------+
| Field     | Type    | Null | Key | Default | Extra          |
+-----------+---------+------+-----+---------+----------------+
| id        | int(11) | NO   | PRI | NULL    | auto_increment |
| role_id   | int(11) | YES  |     | NULL    |                |
| menu_id | int(11) | YES  |     | NULL    |                |
+-----------+---------+------+-----+---------+----------------+
````
id:唯一标识
role_id：关联角色表
module_id：关联权限表

###思想
rbac思想---(role base acess control)基于角色访问控制
用户拥有角色，角色关联权限。
为什么不设计一张用户表，下面直接设置角色字段和权限字段呢？

###开发约定
* 数据库设计采用 _ 拼接多个字母，java实体类采用小驼峰命名
* 包命名entity(实体类)、mapper(dao层|xml文件同样命名mapper)、service(业务逻辑接口)、
service.impl(业务逻辑实现类)、controller(访问层)、util(开发工具类)、config(配置类)
、intercepter(拦截器)、shiro(shiro相关类)、aop(切面类)、vo(视图类)、annotation(自定义注解类)
* controller层url设计：用户操作user/** 权限操作 role/** 角色操作 module/**
